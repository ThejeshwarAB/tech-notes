flowchart TB

%% =========================
%% Git core mental models
%% =========================

subgraph S1["File States"]
    WT["Working Directory"]
    SA["Staging Area"]
    REPO["Repository History"]

    WT --> SA
    SA --> REPO
end

subgraph S2["Commits, Branches, HEAD"]
    C1["Commit 1"]
    C2["Commit 2"]
    C3["Commit 3"]

    C1 --> C2
    C2 --> C3

    main["main branch"] --> C3
    HEAD["HEAD"] --> main
end

subgraph S3["Branching and Merging"]
    B1["Base Commit"]
    F1["Feature Commit"]
    M1["Merge Commit"]

    B1 --> F1
    B1 --> M1
    F1 --> M1

    feature["feature branch"] --> F1
end

subgraph S4["Rewriting History"]
    O1["Old Commit"]
    O2["Old Commit"]

    O1 --> O2

    R1["Rewritten Commit"]
    O1 --> R1
end
